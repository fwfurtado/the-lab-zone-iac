# yaml-language-server: $schema=https://atmos.tools/schemas/atmos/atmos-manifest/1.0/atmos-manifest.json

import:
  - catalog/_default.yaml

vars:
  stage: data

components:
  terraform:
    cockroachdb:
      settings:
        apply_auto_approve: false
      vars:
        cockroachdb:
          servers:
              - id: 601
                hostname: "cockroachdb-server-01"
                description: "CockroachDB server 1"
                ip_cidr: "192.168.40.61/24"
              - id: 602
                hostname: "cockroachdb-server-02"
                description: "CockroachDB server 2"
                ip_cidr: "192.168.40.62/24"
              - id: 603
                hostname: "cockroachdb-server-03"
                description: "CockroachDB server 3"
                ip_cidr: "192.168.40.63/24"
        container:
          started: false
          should_reboot: false
          image:
            repository: "cockroachdb/cockroach"
            tag: "v25.4.3"
            type: "centos"
          resources:
            cpu: 2
            memory: 2048
            disk:
              size: 20