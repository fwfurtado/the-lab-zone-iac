# yaml-language-server: $schema=https://atmos.tools/schemas/atmos/atmos-manifest/1.0/atmos-manifest.json
terraform:
  backend_type: cloud
  backend:
    cloud:
      organization: the-lab-zone
      workspaces:
        name: "{{ .component }}"

vars:
  stage: "infra"

  proxmox_node_name: "proxmox"
  proxmox_host: !env TF_VAR_proxmox_host
  proxmox_ssh_username: !env TF_VAR_proxmox_ssh_username
  proxmox_ssh_agent: true

  defaults:
    image:
      storage_id: "local"
      registry: "docker.io"
      tag: "latest"
      type: "alpine"
    network:
      interface_name: "eth0"
      bridge: "vmbr0"
      gateway: "192.168.40.1"
      dns_servers: []
    environment_variables: {}
    disk:
      storage_id: "local-lvm"
    features:
      nesting: true
      unprivileged: true
    files: {}